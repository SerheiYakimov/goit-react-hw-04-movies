{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Navigation/Navigation.module.css","components/MovieItem/MovieItem.module.css","pages/HomePage/HomePage.module.css","components/Button/Button.module.css","components/MoviesGallery/MoviesGallery.module.css","components/Navigation/Navigation.js","services/theMoviedDB.js","images/not-found-image.jpeg","components/MovieItem/MovieItem.js","components/Button/Button.js","pages/HomePage/HomePage.js","components/Searchbar/Searchbar.js","components/MoviesGallery/MoviesGallery.js","components/hooks/LS.js","pages/MoviePage/MoviesPage.js","components/MovieDetails/MovieDetails.js","pages/MovieDetailsPage.js","pages/NotFoundPage.js","App.js","index.js"],"names":["module","exports","Navigation","exact","to","className","s","link","activeClassName","activeLink","MoviedFetch","this","_searchQuery","_page","value","fetch","axios","get","then","result","console","log","data","results","catch","error","id","MovieItem","poster","name","imagePoster","notFoundImage","location","useLocation","galleryItem","pathname","state","from","label","src","alt","imageGalleryItem","defaultProps","propsTypes","PropTypes","string","number","Button","onClick","button","type","newMoviedFetch","HomePage","useState","movies","setMovies","setError","loader","setLoader","useEffect","resetPage","trendingMovies","ScrollImages","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","gallery","length","map","poster_path","original_title","page","prev","Searchbar","onSubmit","searchValue","setSearchValue","searchbar","searchForm","e","preventDefault","trim","toast","warn","searchButton","reactIcons","searchInput","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","MoviesGallery","key","defaultValue","JSON","parse","localStorage","getItem","setState","setItem","stringify","useLS","searchQuery","searchMovies","MoviesPage","setValue","position","autoClose","MovieDetails","movie","release_date","popularity","overview","genres","genre","join","MovieDetailsPage","history","useHistory","params","useParams","setMovie","searchMoviesId","movieId","push","alert","NotFoundPage","form","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.85586e6b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchButton\":\"Searchbar_searchButton__1Ml9x\",\"searchButtonLabel\":\"Searchbar_searchButtonLabel__2BLFE\",\"searchInput\":\"Searchbar_searchInput__1DwaM\",\"reactIcons\":\"Searchbar_reactIcons__ukWGd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__12o2K\",\"activeLink\":\"Navigation_activeLink__2rUFB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"MovieItem_galleryItem__34gA0\",\"imageGalleryItem\":\"MovieItem_imageGalleryItem__37LvD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"HomePage_gallery__3wSUR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"MoviesGallery_gallery__221wu\"};","import { NavLink } from \"react-router-dom\";\nimport s from \"../Navigation/Navigation.module.css\";\n\nconst Navigation = () => {\n  return (\n    <nav>\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\n        HomePage\n      </NavLink>\n      <NavLink to=\"/movies\" className={s.link} activeClassName={s.activeLink}>\n        MoviesPage\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import axios from \"axios\";\n\nexport default class MoviedFetch {\n  constructor() {\n    this._searchQuery = \"\";\n    this._page = 1;\n    // this._movieId = null;\n    // this.perPage = 12;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  // get movieId() {\n  //   return this._movieId;\n  // }\n  // set movieId(id) {\n  //   return (this._movieId = id);\n  // }\n\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  trendingMovies() {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `trending/all/day?api_key=${apiKey}&page=${this._page}`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMovies() {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `search/movie?api_key=${apiKey}&query=${this._searchQuery}&language=en-US&page=${this._page}&include_adult=false`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesId(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        console.log(result);\n        return result.data;\n      })\n      // .then((data) => {\n      //   console.log(data.results);\n      //   return data.results;\n      // })\n      .catch((error) => console.log(error));\n  }\n}\n\n\n","export default __webpack_public_path__ + \"static/media/not-found-image.22bff5ce.jpeg\";","// import Modal from \"../Modal/Modal\";\nimport PropTypes from \"prop-types\";\nimport s from \"../MovieItem/MovieItem.module.css\";\nimport notFoundImage from \"../../images/not-found-image.jpeg\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router\";\n\n// import MoviedFetch from \"../../services/theMoviedDB\";\n\n// const newMoviedFetch = new MoviedFetch();\n\nexport function MovieItem({ poster, id, name }) {\n  const imageUrl = \"https://image.tmdb.org/t/p/w500\";\n  const imagePoster = poster ? `${imageUrl}${poster}` : notFoundImage;\n  const location = useLocation();\n\n  // useEffect(() => {\n  //   newMoviedFetch().searchMoviesId()\n  // }\n  // )\n\n  return (\n    <li className={s.galleryItem} key={id}>\n      <h1>{`${name}`}</h1>\n      <Link to={{\n        pathname: `/movies/${id}`,\n        state: {\n          from: { location, label: `back to movies`},\n        }\n      }}>\n        <img\n          src={imagePoster}\n          alt={name}\n          className={s.imageGalleryItem}\n          />\n      </Link>\n      \n    </li>\n  );\n}\n\nMovieItem.defaultProps = {\n  poster: notFoundImage,\n};\n\nMovieItem.propsTypes = {\n  poster: PropTypes.string,\n  id: PropTypes.number,\n  name: PropTypes.string,\n\n  // onClick: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"../Button/Button.module.css\";\n\nexport function Button({ onClick }) {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from \"react\";\nimport MoviedFetch from \"../../services/theMoviedDB\";\nimport s from \"../HomePage/HomePage.module.css\";\nimport { MovieItem } from \"../../components/MovieItem/MovieItem\";\nimport { Button } from \"../../components/Button/Button\";\nimport Loader from \"react-loader-spinner\";\n\nconst newMoviedFetch = new MoviedFetch();\n\nexport default function HomePage() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    newMoviedFetch.resetPage();\n    setLoader(true);\n    newMoviedFetch\n      .trendingMovies()\n      .then((movies) => {\n        setMovies(movies);\n        setLoader(false);\n      })\n      .catch((error) => setError(error));\n  }, []);\n\n  const onLoadMore = () => {\n    newMoviedFetch.page = 1;\n    newMoviedFetch\n      .trendingMovies()\n      .then((movies) => {\n        setMovies((prev) => [...prev, ...movies]);\n      })\n      .then(ScrollImages)\n      .catch((error) => setError(error));\n  };\n  const ScrollImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <>\n      {loader && (\n        <Loader\n          type=\"Bars\"\n          color=\"#00BFFF\"\n          height={200}\n          width={200}\n          timeout={3000}\n        />\n      )}\n      <ul className={s.gallery}>\n        {movies.length > 0 &&\n          movies.map(({ poster_path, id, original_title }) => (\n            <MovieItem\n              // onClick={onClickModalImg}\n              key={id}\n              id={id}\n              poster={poster_path}\n              name={original_title}\n            />\n          ))}\n      </ul>\n      {movies.length >= 20 && <Button onClick={onLoadMore} />}\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport s from \"../Searchbar/Searchbar.module.css\";\nimport { BsSearch } from \"react-icons/bs\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    if (searchValue.trim() === \"\") {\n      toast.warn(\"Enter a name to search!\");\n      return;\n    }\n    onSubmit(searchValue);\n    setSearchValue(\"\");\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchValue(e.target.value.toLowerCase());\n  };\n\n  // BsSearch\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handleSearchSubmit}>\n        <button type=\"submit\" className={s.searchButton}>\n          <BsSearch className={s.reactIcons} />\n        </button>\n        <input\n          className={s.searchInput}\n          type=\"text\"\n          name=\"value\"\n          value={searchValue}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleSearchChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  handleSearchChange: PropTypes.func,\n  handleSearchSubmit: PropTypes.func,\n  searchValue: PropTypes.string,\n};\n","import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"../MoviesGallery/MoviesGallery.module.css\";\nimport { MovieItem } from \"../MovieItem/MovieItem\";\nimport { Button } from \"../Button/Button\";\nimport \"../../../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { toast } from \"react-toastify\";\nimport MoviedFetch from \"../../services/theMoviedDB\";\nimport { useLS } from \"../hooks/LS\";\n\n\nconst newMoviedFetch = new MoviedFetch();\n\nexport default function MoviesGallery({ value }) {\n  const [movies, setMovies] = useLS('movies', []);\n  const [error, setError] = useState(null);\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    if (!value) return;\n    newMoviedFetch.resetPage();\n    setLoader(true);\n    newMoviedFetch.searchQuery = value;\n    newMoviedFetch\n      .searchMovies()\n      .then((movies) => {\n        if (movies.length === 0) {\n          toast.warn(\"Nothihg found for this name! Enter correct name!\");\n          setMovies([]);\n          return;\n        }\n        setMovies(movies);\n        setLoader(false);\n        console.log(movies);\n      })\n      .catch((error) => setError(error));\n  }, [value, setMovies]);\n\n  const onLoadMore = () => {\n    newMoviedFetch.page = 1;\n    newMoviedFetch\n      .searchMovies()\n      .then((movies) => {\n        setMovies((prev) => [...prev, ...movies]);\n      })\n      .then(ScrollImages)\n      .catch((error) => setError(error));\n  };\n\n  const ScrollImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <>\n      {loader && (\n        <Loader\n          type=\"Bars\"\n          color=\"#00BFFF\"\n          height={200}\n          width={200}\n          timeout={3000}\n        />\n      )}\n      <ul className={s.gallery}>\n        {movies.length > 0 &&\n          movies.map(({ poster_path, id, original_title }) => (\n            <MovieItem\n              key={id}\n              id={id}\n              poster={poster_path}\n              name={original_title}\n            />\n          ))}\n      </ul>\n      {movies.length >= 20 && <Button onClick={onLoadMore} />}\n    </>\n  );\n}\n\nMoviesGallery.propTypes = {\n  id: PropTypes.number,\n  value: PropTypes.string,\n  original_title: PropTypes.string,\n  poster_path: PropTypes.string,\n  \n};\n","import { useState, useEffect } from \"react\";\n\nexport const useLS = (key, defaultValue) => {\n    const [state, setState] = useState(() => JSON.parse(window.localStorage.getItem(key)) ?? defaultValue);\n\n    useEffect(() => {\n        window.localStorage.setItem(key, JSON.stringify(state))\n    }, [key, state]);\n\n    return [state, setState];\n}","import { useState } from \"react\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport MoviesGallery from \"../../components/MoviesGallery/MoviesGallery\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"../../../node_modules/react-toastify/dist/ReactToastify.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function MoviesPage() {\n  const [value, setValue] = useState(\"\");\n\n  const getFormSubmitValue = (value) => {\n    setValue(value);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={getFormSubmitValue} />\n      <MoviesGallery value={value} />\n      <ToastContainer position=\"top-left\" autoClose={3000} />\n    </div>\n  );\n}\n\nMoviesPage.propTypes = {\n  onSubmit: PropTypes.func,\n  value: PropTypes.string,\n};\n","import notFoundImage from \"../../images/not-found-image.jpeg\";\n\nexport default function MovieDetails({ movie }) {\n    const imageUrl = \"https://image.tmdb.org/t/p/w200\";\n    const imagePoster = movie.poster_path ? `${imageUrl}${movie.poster_path}` : notFoundImage;\n    return (\n        <article>\n            <img\n                src={imagePoster}\n                alt={movie.original_title}\n            />\n            <div>\n                <h2>{movie.original_title}</h2>\n                <span>{movie.release_date}</span>\n                <h3>Popularity</h3>\n                <p>{movie.popularity}</p>\n                <h3>Overview</h3>\n                <p>{movie.overview}</p>\n                <h3>Genres</h3>\n                <p>{movie.genres.map((genre) => genre.name).join(\", \")}</p>\n            </div>              \n        </article>\n    )\n}","import { useState, useEffect } from \"react\";\nimport { useHistory, useLocation, useParams } from \"react-router\";\nimport MoviedFetch from \"../services/theMoviedDB\";\nimport MovieDetails from \"../components/MovieDetails/MovieDetails\";\n\nconst newMoviedFetch = new MoviedFetch();\n\n\nexport default function MovieDetailsPage() {\n    const history = useHistory();\n    const location = useLocation();\n    const params = useParams();\n    const [movie, setMovie] = useState(null);\n    \n\n\n    // newMoviedFetch.searchMoviesId(params.movieId).then(movie => {\n        //     if (location.state) {\n        //         setMovie(movie)\n        //     }\n\n    useEffect(() => {\n        newMoviedFetch.searchMoviesId(params.movieId)\n           .then((movie) => {\n                if (location.state) {\n                setMovie(movie);\n                } else {\n                history.push((location.pathname = \"/notFound\"));\n                }\n            })\n            .catch(error => alert(error));\n    }, [params.movieId, history, location]);\n    \n    const handleClick = () => {\n        history.push(location?.state?.from?.location ?? '/movies');\n       \n    }\n    \n    return (\n        <>\n             <h1>Movie Details</h1>\n            <button type=\"button\" onClick={handleClick}>\n                {location?.state?.from?.label ?? 'Go Back'}\n            </button>\n        \n            {movie && <MovieDetails movie={movie} />}\n            {/* <MovieDetails movie={movie} /> */}\n                \n        </>\n    )\n}\n","import { useHistory, useLocation } from \"react-router\"\n\nexport default function NotFoundPage() {\n  const history = useHistory();\n  console.log('NFP history', history);\n  const location = useLocation();\n  console.log('NFP location', location);\n\n  const backToHome = () => {\n    history.push(location?.state?.form?.location ?? '/')\n  }\n\n\n\n  return (\n    <>\n      <h1>404 Page is not found</h1>\n      <button type=\"button\"onClick={backToHome}>backToHome</button>\n    </>\n  )\n}\n","import { Route, Switch } from \"react-router-dom\";\n// import { lazy, Suspence } from 'react';\nimport \"./App.css\";\nimport Navigation from \"./components/Navigation/Navigation\";\nimport HomePage from \"./pages/HomePage/HomePage\";\nimport MoviesPage from \"./pages/MoviePage/MoviesPage\";\nimport MovieDetailsPage from './pages/MovieDetailsPage';\nimport NotFoundPage from \"./pages/NotFoundPage\";\n\n// const HomePage = lazy(() =>\n//   import('./pages/HomePage/HomePage' /* webpackChunkName: 'Home Page'*/)),\n// const MoviesPage = lazy(() =>\n//   import('./pages/MoviePage/MoviesPage' /*webpackChunkName: 'Movies Page'*/)),\n// const MovieDetailsPage = lazy(() => import('./pages/MovieDetailsPage' /* webpackChunkName: 'Movie Details Page'*/)),\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Navigation />\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n        <Route path=\"/movies\" exact>\n          <MoviesPage />\n        </Route>\n        <Route path=\"/movies/:movieId\">\n          <MovieDetailsPage />\n        </Route>\n        <Route path=\"/notFound\">\n          <NotFoundPage />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}