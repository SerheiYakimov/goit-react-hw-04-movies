(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var a=n(52),c=n(0),r=n(66),o=n(94),s=n.n(o),i=n(98),u=n(1);function l(e){var t=e.onSubmit,n=Object(c.useState)(""),o=Object(a.a)(n,2),l=o[0],h=o[1];return Object(u.jsx)("header",{className:s.a.searchbar,children:Object(u.jsxs)("form",{className:s.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==l.trim()?(t(l),h("")):r.b.warn("Enter a name to search!")},children:[Object(u.jsx)("button",{type:"submit",className:s.a.searchButton,children:Object(u.jsx)(i.a,{className:s.a.reactIcons})}),Object(u.jsx)("input",{className:s.a.searchInput,type:"text",name:"value",value:l,autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){h(e.target.value.toLowerCase())}})]})})}var h=n(65),b=n(95),f=n.n(b),g=n(61),m=n(63),p=(n(96),n(14)),v=n.n(p),d=n(53),j=new d.a;function _(e){var t=e.value,n=function(e,t){var n=Object(c.useState)((function(){var n;return null!==(n=JSON.parse(window.localStorage.getItem(e)))&&void 0!==n?n:t})),r=Object(a.a)(n,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,s]}("movies",[]),o=Object(a.a)(n,2),s=o[0],i=o[1],l=Object(c.useState)(null),b=Object(a.a)(l,2),p=(b[0],b[1]),d=Object(c.useState)(!1),_=Object(a.a)(d,2),O=_[0],y=_[1];Object(c.useEffect)((function(){t&&(j.resetPage(),y(!0),j.searchQuery=t,j.searchMovies().then((function(e){if(0===e.length)return r.b.warn("Nothihg found for this name! Enter correct name!"),void i([]);i(e),y(!1),console.log(e)})).catch((function(e){return p(e)})))}),[t,i]);var x=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(u.jsxs)(u.Fragment,{children:[O&&Object(u.jsx)(v.a,{type:"Bars",color:"#00BFFF",height:200,width:200,timeout:3e3}),Object(u.jsx)("ul",{className:f.a.gallery,children:s.length>0&&s.map((function(e){var t=e.poster_path,n=e.id,a=e.original_title;return Object(u.jsx)(g.a,{id:n,poster:t,name:a},n)}))}),s.length>=20&&Object(u.jsx)(m.a,{onClick:function(){j.page=1,j.searchMovies().then((function(e){i((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e))}))})).then(x).catch((function(e){return p(e)}))}})]})}n(97);function O(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{onSubmit:function(e){o(e)}}),Object(u.jsx)(_,{value:n}),Object(u.jsx)(r.a,{position:"top-left",autoClose:3e3})]})}},51:function(e,t,n){"use strict";t.a=n.p+"static/media/not-found-image.22bff5ce.jpeg"},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(58),c=n(59),r=n(60),o=n.n(r),s=function(){function e(){Object(a.a)(this,e),this._searchQuery="",this._page=1}return Object(c.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"resetPage",value:function(){return this._page=1}},{key:"trendingMovies",value:function(){var e="https://api.themoviedb.org/3/"+"trending/all/day?api_key=".concat("7c2b2b3c6c797e2889781dee57c7a6ae","&page=").concat(this._page);return o.a.get(e).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}},{key:"searchMovies",value:function(){var e="https://api.themoviedb.org/3/"+"search/movie?api_key=".concat("7c2b2b3c6c797e2889781dee57c7a6ae","&query=").concat(this._searchQuery,"&language=en-US&page=").concat(this._page,"&include_adult=false");return o.a.get(e).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}},{key:"searchMoviesId",value:function(e){var t="https://api.themoviedb.org/3/"+"movie/".concat(e,"?api_key=").concat("7c2b2b3c6c797e2889781dee57c7a6ae","&language=en-US");return o.a.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"searchMoviesCast",value:function(e){var t="https://api.themoviedb.org/3/"+"movie/".concat(e,"/credits?api_key=").concat("7c2b2b3c6c797e2889781dee57c7a6ae","&language=en-US");return o.a.get(t).then((function(e){return console.log(e),e.data})).then((function(e){return console.log(e.cast),e.cast})).catch((function(e){return console.log(e)}))}},{key:"searchMoviesReviews",value:function(e){var t="https://api.themoviedb.org/3/"+"movie/".concat(e,"/reviews?api_key=").concat("7c2b2b3c6c797e2889781dee57c7a6ae","&language=en-US");return o.a.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}()},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),c=n.n(a),r=n(62),o=n.n(r),s=n(51),i=n(9),u=n(3),l=n(1);function h(e){var t=e.poster,n=e.id,a=e.name,c=t?"".concat("https://image.tmdb.org/t/p/w500").concat(t):s.a,r=Object(u.g)();return Object(l.jsxs)("li",{className:o.a.galleryItem,children:[Object(l.jsx)("h1",{children:"".concat(a)}),Object(l.jsx)(i.b,{to:{pathname:"/movies/".concat(n),state:{from:{location:r,label:"back to movies"}}},children:Object(l.jsx)("img",{src:c,alt:a,className:o.a.imageGalleryItem})})]},n)}h.defaultProps={poster:s.a},h.propsTypes={poster:c.a.string,id:c.a.number,name:c.a.string}},62:function(e,t,n){e.exports={galleryItem:"MovieItem_galleryItem__34gA0",imageGalleryItem:"MovieItem_imageGalleryItem__37LvD"}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(64),c=n.n(a),r=n(1);function o(e){var t=e.onClick;return Object(r.jsx)("button",{className:c.a.button,type:"button",onClick:t,children:"Load more"})}},64:function(e,t,n){e.exports={button:"Button_button__3QF_k"}},94:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__jo466",searchForm:"Searchbar_searchForm__23jwf",searchButton:"Searchbar_searchButton__1Ml9x",searchButtonLabel:"Searchbar_searchButtonLabel__2BLFE",searchInput:"Searchbar_searchInput__1DwaM",reactIcons:"Searchbar_reactIcons__ukWGd"}},95:function(e,t,n){e.exports={gallery:"MoviesGallery_gallery__221wu"}}}]);
//# sourceMappingURL=Movies Page.ccfc66b8.chunk.js.map