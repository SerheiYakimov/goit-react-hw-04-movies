{"version":3,"sources":["components/Searchbar/Searchbar.js","components/MoviesGallery/MoviesGallery.js","components/hooks/LS.js","pages/MoviePage/MoviesPage.js","images/not-found-image.jpeg","services/theMoviedDB.js","components/MovieItem/MovieItem.js","components/MovieItem/MovieItem.module.css","components/Button/Button.js","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/MoviesGallery/MoviesGallery.module.css"],"names":["Searchbar","onSubmit","useState","searchValue","setSearchValue","className","s","searchbar","searchForm","e","preventDefault","trim","toast","warn","type","searchButton","reactIcons","searchInput","name","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","newMoviedFetch","MoviedFetch","MoviesGallery","key","defaultValue","JSON","parse","window","localStorage","getItem","state","setState","useEffect","setItem","stringify","useLS","movies","setMovies","setError","loader","setLoader","resetPage","searchQuery","searchMovies","then","length","console","log","catch","error","ScrollImages","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","gallery","map","poster_path","id","original_title","MovieItem","poster","Button","onClick","page","prev","MoviesPage","setValue","position","autoClose","this","_searchQuery","_page","fetch","axios","get","result","data","results","cast","imagePoster","notFoundImage","location","useLocation","galleryItem","title","to","pathname","from","label","src","alt","imageGalleryItem","defaultProps","propsTypes","PropTypes","string","number","module","exports","button"],"mappings":"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","file":"static/js/Movies Page.93c0c41c.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport s from \"../Searchbar/Searchbar.module.css\";\nimport { BsSearch } from \"react-icons/bs\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    if (searchValue.trim() === \"\") {\n      toast.warn(\"Enter a name to search!\");\n      return;\n    }\n    onSubmit(searchValue);\n    setSearchValue(\"\");\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchValue(e.target.value.toLowerCase());\n  };\n\n  // BsSearch\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handleSearchSubmit}>\n        <button type=\"submit\" className={s.searchButton}>\n          <BsSearch className={s.reactIcons} />\n        </button>\n        <input\n          className={s.searchInput}\n          type=\"text\"\n          name=\"value\"\n          value={searchValue}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleSearchChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  handleSearchChange: PropTypes.func,\n  handleSearchSubmit: PropTypes.func,\n  searchValue: PropTypes.string,\n};\n","import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"../MoviesGallery/MoviesGallery.module.css\";\nimport { MovieItem } from \"../MovieItem/MovieItem\";\nimport { Button } from \"../Button/Button\";\nimport \"../../../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { toast } from \"react-toastify\";\nimport MoviedFetch from \"../../services/theMoviedDB\";\nimport { useLS } from \"../hooks/LS\";\n\nconst newMoviedFetch = new MoviedFetch();\n\nexport default function MoviesGallery({ value }) {\n  const [movies, setMovies] = useLS(\"movies\", []);\n  const [error, setError] = useState(null);\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    if (!value) return;\n    newMoviedFetch.resetPage();\n    setLoader(true);\n    newMoviedFetch.searchQuery = value;\n    newMoviedFetch\n      .searchMovies()\n      .then((movies) => {\n        if (movies.length === 0) {\n          toast.warn(\"Nothihg found for this name! Enter correct name!\");\n          setMovies([]);\n          return;\n        }\n        setMovies(movies);\n        setLoader(false);\n        console.log(movies);\n      })\n      .catch((error) => setError(error));\n  }, [value, setMovies]);\n\n  const onLoadMore = () => {\n    newMoviedFetch.page = 1;\n    newMoviedFetch\n      .searchMovies()\n      .then((movies) => {\n        setMovies((prev) => [...prev, ...movies]);\n      })\n      .then(ScrollImages)\n      .catch((error) => setError(error));\n  };\n\n  const ScrollImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <>\n      {loader && (\n        <Loader\n          type=\"Bars\"\n          color=\"#00BFFF\"\n          height={200}\n          width={200}\n          timeout={3000}\n        />\n      )}\n      <ul className={s.gallery}>\n        {movies.length > 0 &&\n          movies.map(({ poster_path, id, original_title }) => (\n            <MovieItem\n              key={id}\n              id={id}\n              poster={poster_path}\n              name={original_title}\n            />\n          ))}\n      </ul>\n      {movies.length >= 20 && <Button onClick={onLoadMore} />}\n    </>\n  );\n}\n\nMoviesGallery.propTypes = {\n  id: PropTypes.number,\n  value: PropTypes.string,\n  original_title: PropTypes.string,\n  poster_path: PropTypes.string,\n};\n","import { useState, useEffect } from \"react\";\n\nexport const useLS = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? defaultValue\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n};\n","import { useState } from \"react\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport MoviesGallery from \"../../components/MoviesGallery/MoviesGallery\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"../../../node_modules/react-toastify/dist/ReactToastify.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function MoviesPage() {\n  const [value, setValue] = useState(\"\");\n\n  const getFormSubmitValue = (value) => {\n    setValue(value);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={getFormSubmitValue} />\n      <MoviesGallery value={value} />\n      <ToastContainer position=\"top-left\" autoClose={3000} />\n    </div>\n  );\n}\n\nMoviesPage.propTypes = {\n  onSubmit: PropTypes.func,\n  value: PropTypes.string,\n};\n","export default __webpack_public_path__ + \"static/media/not-found-image.22bff5ce.jpeg\";","import axios from \"axios\";\n\nexport default class MoviedFetch {\n  constructor() {\n    this._searchQuery = \"\";\n    this._page = 1;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  trendingMovies() {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `trending/all/day?api_key=${apiKey}&page=${this._page}`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        // console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMovies() {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `search/movie?api_key=${apiKey}&query=${this._searchQuery}&language=en-US&page=${this._page}&include_adult=false`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        // console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesId(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesCast(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}/credits?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        console.log(data.cast);\n        return data.cast;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesReviews(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}/reviews?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n}\n","import PropTypes from \"prop-types\";\nimport s from \"../MovieItem/MovieItem.module.css\";\nimport notFoundImage from \"../../images/not-found-image.jpeg\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router\";\n\nexport function MovieItem({ poster, id, name }) {\n  const imageUrl = \"https://image.tmdb.org/t/p/w500\";\n  const imagePoster = poster ? `${imageUrl}${poster}` : notFoundImage;\n  const location = useLocation();\n\n  return (\n    <li className={s.galleryItem} key={id}>\n      <h1 className={s.title}>{`${name}`}</h1>\n      <Link\n        to={{\n          pathname: `/movies/${id}`,\n          state: {\n            from: { location, label: `back to movies` },\n          },\n        }}\n      >\n        <img src={imagePoster} alt={name} className={s.imageGalleryItem} />\n      </Link>\n    </li>\n  );\n}\n\nMovieItem.defaultProps = {\n  poster: notFoundImage,\n};\n\nMovieItem.propsTypes = {\n  poster: PropTypes.string,\n  id: PropTypes.number,\n  name: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"MovieItem_galleryItem__34gA0\",\"imageGalleryItem\":\"MovieItem_imageGalleryItem__37LvD\",\"title\":\"MovieItem_title__1yszI\"};","import PropTypes from \"prop-types\";\nimport s from \"../Button/Button.module.css\";\n\nexport function Button({ onClick }) {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchButton\":\"Searchbar_searchButton__1Ml9x\",\"searchButtonLabel\":\"Searchbar_searchButtonLabel__2BLFE\",\"searchInput\":\"Searchbar_searchInput__1DwaM\",\"reactIcons\":\"Searchbar_reactIcons__ukWGd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"MoviesGallery_gallery__221wu\"};"],"sourceRoot":""}