(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{14:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__jo466",searchForm:"Searchbar_searchForm__23jwf",searchButton:"Searchbar_searchButton__1Ml9x",searchButtonLabel:"Searchbar_searchButtonLabel__2BLFE",searchInput:"Searchbar_searchInput__1DwaM",reactIcons:"Searchbar_reactIcons__ukWGd"}},16:function(e,t,n){e.exports={link:"Navigation_link__12o2K",activeLink:"Navigation_activeLink__2rUFB"}},26:function(e,t,n){e.exports={galleryItem:"MovieItem_galleryItem__34gA0",imageGalleryItem:"MovieItem_imageGalleryItem__37LvD"}},40:function(e,t,n){e.exports={gallery:"HomePage_gallery__3wSUR"}},41:function(e,t,n){e.exports={button:"Button_button__3QF_k"}},42:function(e,t,n){e.exports={gallery:"MoviesGallery_gallery__221wu"}},48:function(e,t,n){},49:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),o=n.n(r),s=n(11),i=(n(48),n(3)),u=(n(49),n(16)),l=n.n(u),h=n(1),j=function(){return Object(h.jsxs)("nav",{children:[Object(h.jsx)(s.b,{exact:!0,to:"/",className:l.a.link,activeClassName:l.a.activeLink,children:"HomePage"}),Object(h.jsx)(s.b,{to:"/movies",className:l.a.link,activeClassName:l.a.activeLink,children:"MoviesPage"})]})},b=n(13),g=n(9),m=n(38),f=n(39),d=n(22),p=n.n(d),v=function(){function e(){Object(m.a)(this,e),this._searchQuery="",this._page=1,this._movieId=null}return Object(f.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"movieId",get:function(){return this._movieId},set:function(e){return this._movieId=e}},{key:"resetPage",value:function(){return this._page=1}},{key:"trendingMovies",value:function(){var e="https://api.themoviedb.org/3/"+"trending/all/day?api_key=".concat("7c2b2b3c6c797e2889781dee57c7a6ae","&page=").concat(this._page);return p.a.get(e).then((function(e){return console.log(e),e.data})).then((function(e){return console.log(e.results),e.results})).catch((function(e){return console.log(e)}))}},{key:"searchMovies",value:function(){var e="https://api.themoviedb.org/3/"+"search/movie?api_key=".concat("7c2b2b3c6c797e2889781dee57c7a6ae","&query=").concat(this._searchQuery,"&language=en-US&page=").concat(this._page,"&include_adult=false");return p.a.get(e).then((function(e){return console.log(e),e.data})).then((function(e){return console.log(e.results),e.results})).catch((function(e){return console.log(e)}))}},{key:"searchMoviesId",value:function(){var e="https://api.themoviedb.org/3/"+"movie/".concat(this._movieId,"?api_key=").concat("7c2b2b3c6c797e2889781dee57c7a6ae","&language=en-US");return p.a.get(e).then((function(e){return console.log(e),e.data})).then((function(e){return console.log(e.results),e.results})).catch((function(e){return console.log(e)}))}}]),e}(),O=n(40),_=n.n(O),x=n(2),y=n.n(x),k=n(26),S=n.n(k),I=n.p+"static/media/not-found-image.22bff5ce.jpeg";function w(e){var t=e.poster,n=e.id,c=e.name,a=t?"".concat("https://image.tmdb.org/t/p/w500").concat(t):I;return Object(h.jsxs)("li",{className:S.a.galleryItem,children:[Object(h.jsx)("p",{children:"".concat(c)}),Object(h.jsx)("img",{src:a,alt:c,className:S.a.imageGalleryItem})]},n)}w.defaultProps={poster:I},w.propsTypes={poster:y.a.string,id:y.a.number,name:y.a.string};var N=n(41),F=n.n(N);function M(e){var t=e.onClick;return Object(h.jsx)("button",{className:F.a.button,type:"button",onClick:t,children:"Load more"})}var B=n(21),C=n.n(B),L=new v;function E(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(g.a)(r,2),s=(o[0],o[1]),i=Object(c.useState)(!1),u=Object(g.a)(i,2),l=u[0],j=u[1];Object(c.useEffect)((function(){L.resetPage(),j(!0),L.trendingMovies().then((function(e){a(e),j(!1)})).catch((function(e){return s(e)}))}),[]);var m=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(h.jsxs)(h.Fragment,{children:[l&&Object(h.jsx)(C.a,{type:"Bars",color:"#00BFFF",height:200,width:200,timeout:3e3}),Object(h.jsx)("ul",{className:_.a.gallery,children:n.length>0&&n.map((function(e){var t=e.poster_path,n=e.id,c=e.original_title;return Object(h.jsx)(w,{id:n,poster:t,name:c},n)}))}),n.length>=20&&Object(h.jsx)(M,{onClick:function(){L.page=1,L.trendingMovies().then((function(e){a((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))})).then(m).catch((function(e){return s(e)}))}})]})}var P=n(12),Q=n(14),G=n.n(Q),H=n(43);function U(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(g.a)(n,2),r=a[0],o=a[1];return Object(h.jsx)("header",{className:G.a.searchbar,children:Object(h.jsxs)("form",{className:G.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):P.b.warn("Enter a name to search!")},children:[Object(h.jsx)("button",{type:"submit",className:G.a.searchButton,children:Object(h.jsx)(H.a,{className:G.a.reactIcons})}),Object(h.jsx)("input",{className:G.a.searchInput,type:"text",name:"value",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){o(e.target.value.toLowerCase())}})]})})}var A=n(42),D=n.n(A),T=(n(92),new v);function J(e){var t=e.value,n=Object(c.useState)([]),a=Object(g.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(null),i=Object(g.a)(s,2),u=(i[0],i[1]),l=Object(c.useState)(!1),j=Object(g.a)(l,2),m=j[0],f=j[1];Object(c.useEffect)((function(){t&&(T.resetPage(),f(!0),T.searchQuery=t,T.searchMovies().then((function(e){if(0===e.length)return P.b.warn("Nothihg found for this name! Enter correct name!"),void o([]);o(e),f(!1),console.log(e)})).catch((function(e){return u(e)})))}),[t]);var d=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(h.jsxs)(h.Fragment,{children:[m&&Object(h.jsx)(C.a,{type:"Bars",color:"#00BFFF",height:200,width:200,timeout:3e3}),Object(h.jsx)("ul",{className:D.a.gallery,children:r.length>0&&r.map((function(e){var t=e.poster_path,n=e.id,c=e.original_title;return Object(h.jsx)(w,{id:n,poster:t,name:c},n)}))}),r.length>=20&&Object(h.jsx)(M,{onClick:function(){T.page=1,T.searchMovies().then((function(e){o((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))})).then(d).catch((function(e){return u(e)}))}})]})}n(93);function q(){var e=Object(c.useState)(""),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(U,{onSubmit:function(e){a(e)}}),Object(h.jsx)(J,{value:n}),Object(h.jsx)(P.a,{position:"top-left",autoClose:3e3})]})}function K(){return Object(h.jsx)("h1",{children:"404 Page is not found"})}var R=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{}),Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{path:"/",exact:!0,children:Object(h.jsx)(E,{})}),Object(h.jsx)(i.a,{path:"/movies",children:Object(h.jsx)(q,{})}),Object(h.jsx)(i.a,{children:Object(h.jsx)(K,{})})]})]})};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(s.a,{children:Object(h.jsx)(R,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.5d2aed1f.chunk.js.map