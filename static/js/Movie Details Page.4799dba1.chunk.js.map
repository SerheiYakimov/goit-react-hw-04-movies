{"version":3,"sources":["components/MovieReviews/MovieReviews.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","components/MovieDetails/MovieDetails.js","components/MovieCast/MovieCast.js","components/MovieReviews/MovieReviews.js","pages/MovieDetailsPage/MovieDetailsPage.js","images/not-found-image.jpeg","services/theMoviedDB.js","components/MovieDetails/MovieDetails.module.css","components/MovieCast/MovieCast.module.css"],"names":["module","exports","MovieDetails","movie","imagePoster","poster_path","notFoundImage","className","s","article","image","src","alt","original_title","content","title","text","release_date","popularity","overview","genres","map","genre","name","join","MovieCast","cast","list","actor","profile_path","original_name","id","propsTypes","PropTypes","string","MovieReviews","reviews","container","review","author","length","notext","rewievs","newMoviedFetch","MoviedFetch","MovieDetailsPage","history","useHistory","location","useLocation","params","useParams","useState","setMovie","setCast","setReviews","useEffect","searchMoviesId","movieId","then","state","push","pathname","catch","error","alert","searchMoviesCast","searchMoviesReviews","type","button","onClick","from","label","item","to","path","handleClick","func","this","_searchQuery","_page","value","fetch","axios","get","result","data","results","console","log"],"mappings":"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","file":"static/js/Movie Details Page.4799dba1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieReviews_container__jN1c-\",\"title\":\"MovieReviews_title__2kKIa\",\"list\":\"MovieReviews_list__3qx8o\",\"text\":\"MovieReviews_text__1gzrc\",\"notext\":\"MovieReviews_notext__3cv5m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__wIRVL\",\"title\":\"MovieDetailsPage_title__2cmSo\",\"button\":\"MovieDetailsPage_button__3SJGN\",\"list\":\"MovieDetailsPage_list__fFA6M\",\"item\":\"MovieDetailsPage_item__3N6Ru\",\"text\":\"MovieDetailsPage_text__3GXLz\"};","import notFoundImage from \"../../images/not-found-image.jpeg\";\nimport s from \"../MovieDetails/MovieDetails.module.css\";\n\nexport default function MovieDetails({ movie }) {\n  const imageUrl = \"https://image.tmdb.org/t/p/w200\";\n  const imagePoster = movie.poster_path\n    ? `${imageUrl}${movie.poster_path}`\n    : notFoundImage;\n  return (\n    <article className={s.article}>\n      <img className={s.image} src={imagePoster} alt={movie.original_title} />\n      <div className={s.content}>\n        <h2 className={s.title}>{movie.original_title}</h2>\n        <span className={s.text}>{movie.release_date}</span>\n        <h3 className={s.title}>Popularity</h3>\n        <p className={s.text}>{movie.popularity}</p>\n        <h3 className={s.title}>Overview</h3>\n        <p className={s.text}>{movie.overview}</p>\n        <h3 className={s.title}>Genres</h3>\n        <p className={s.text}>{movie.genres.map((genre) => genre.name).join(\", \")}</p>\n      </div>\n    </article>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport s from \"../MovieCast/MovieCast.module.css\";\nimport notFoundImage from \"../../images/not-found-image.jpeg\";\n\nexport default function MovieCast({ cast }) {\n  const imageUrl = \"https://image.tmdb.org/t/p/w200\";\n\n  return (\n    <div>\n      <h3 className={s.title}>Actors</h3>\n      <ul className={s.list}>\n        {cast.map((actor) => (\n          <li key={actor.id}>\n            <img className={s.image}\n              src={\n                actor.profile_path\n                  ? `${imageUrl}${actor.profile_path}`\n                  : notFoundImage\n              }\n              alt={actor.original_name}\n            />\n            <p className={s.text}>{actor.original_name}</p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nMovieCast.propsTypes = {\n  cast: PropTypes.string,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"../MovieReviews/MovieReviews.module.css\";\n\nexport default function MovieReviews({ reviews }) {\n    return (\n        <div className={s.container}>\n            <h3 className={s.title}>Reviews</h3>\n            <ul className={s.list}>\n                {reviews.map((review) => (\n                    <li key={review.id}>\n                        <h4 className={s.title}>{review.author}</h4>\n                        <p className={s.text}>{review.content}</p>\n                    </li>\n                ))}\n            </ul>\n            {reviews.length === 0 && (\n        <p className={s.notext}> no reviews yet!</p>\n      )}\n            \n        </div>\n    )\n}\n\nMovieReviews.propsTypes = {\n  rewievs: PropTypes.string,\n};","import PropTypes from \"prop-types\";\nimport { useState, useEffect } from \"react\";\nimport { Route, useHistory, useLocation, useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport MoviedFetch from \"../../services/theMoviedDB\";\nimport MovieDetails from \"../../components/MovieDetails/MovieDetails\";\nimport MovieCast from \"../../components/MovieCast/MovieCast\";\nimport MovieReviews from \"../../components/MovieReviews/MovieReviews\";\nimport s from \"../MovieDetailsPage/MovieDetailsPage.module.css\";\n\nconst newMoviedFetch = new MoviedFetch();\n\nexport default function MovieDetailsPage() {\n  const history = useHistory();\n  const location = useLocation();\n  const params = useParams();\n  const [movie, setMovie] = useState(null);\n    const [cast, setCast] = useState(null);\n    const [reviews, setReviews] = useState(null);\n\n  useEffect(() => {\n    newMoviedFetch\n      .searchMoviesId(params.movieId)\n      .then((movie) => {\n        if (location.state) {\n          setMovie(movie);\n        } else {\n          history.push((location.pathname = \"/notFound\"));\n        }\n      })\n      .catch((error) => alert(error));\n  }, [params.movieId, history, location]);\n\n  useEffect(() => {\n    newMoviedFetch\n      .searchMoviesCast(params.movieId)\n      .then(setCast)\n      .catch((error) => alert(error));\n  }, [params.movieId]);\n  // console.log('cast', cast);\n    \n    useEffect(() => {\n        newMoviedFetch\n            .searchMoviesReviews(params.movieId)\n            .then(setReviews)\n            .catch((error) => alert(error))\n    }, [params.movieId]);\n    // console.log('reviews', reviews);\n\n  const handleClick = () => {\n    history.push(location?.state?.from?.location ?? \"/movies\");\n  };\n\n  return (\n    <div className={s.container}>\n      <h1 className={s.title}>Movie Details</h1>\n      <button type=\"button\" className={s.button} onClick={handleClick}>\n        {location?.state?.from?.label ?? \"Go Back\"}\n      </button>\n      {movie && <MovieDetails movie={movie} />}\n      <h2 className={s.title}>Additional Information</h2>\n      <ul className={s.list}>\n        <li>\n          <Link className={s.item}\n              to={{\n                pathname: `/movies/${params.movieId}/cast`,\n                state: {\n                  from: history.location.state?.from ?? \"/movies\",\n                  label: \"back to movies from cast\",\n                },\n              }}\n          >\n              Cast\n          </Link>\n        </li>\n        <li>\n          <Link className={s.item}\n            to={{\n              pathname: `/movies/${params.movieId}/reviews`,\n              state: {\n                from: history.location.state?.from ?? \"/movies\",\n                label: \"back to movies from reviews\",\n              },\n            }}\n          >\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <Route path=\"/movies/:movieId/cast\">\n        {cast && <MovieCast cast={cast} />}\n      </Route>\n      <Route path=\"/movies/:movieId/reviews\">\n            {reviews && <MovieReviews reviews={reviews} />}\n        </Route>\n    </div>\n  );\n}\n\nMovieDetailsPage.propsTypes = {\n  handleClick: PropTypes.func,\n  movie: PropTypes.string,\n};\n","export default __webpack_public_path__ + \"static/media/not-found-image.22bff5ce.jpeg\";","import axios from \"axios\";\n\nexport default class MoviedFetch {\n  constructor() {\n    this._searchQuery = \"\";\n    this._page = 1;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  trendingMovies() {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `trending/all/day?api_key=${apiKey}&page=${this._page}`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        // console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMovies() {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `search/movie?api_key=${apiKey}&query=${this._searchQuery}&language=en-US&page=${this._page}&include_adult=false`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        // console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesId(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesCast(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}/credits?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        console.log(data.cast);\n        return data.cast;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  searchMoviesReviews(id) {\n    const url = \"https://api.themoviedb.org/3/\";\n    const apiKey = \"7c2b2b3c6c797e2889781dee57c7a6ae\";\n    const params = `movie/${id}/reviews?api_key=${apiKey}&language=en-US`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        console.log(data.results);\n        return data.results;\n      })\n      .catch((error) => console.log(error));\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"MovieDetails_article__3QdKS\",\"content\":\"MovieDetails_content__3goiB\",\"image\":\"MovieDetails_image__1ERKH\",\"title\":\"MovieDetails_title__2p2Dy\",\"text\":\"MovieDetails_text__3rQdC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MovieCast_title__j8QkI\",\"list\":\"MovieCast_list__3zClh\",\"image\":\"MovieCast_image__2ny_s\",\"text\":\"MovieCast_text__QVWa9\"};"],"sourceRoot":""}